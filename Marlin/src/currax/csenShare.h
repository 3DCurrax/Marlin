#pragma once

/*==============================================================================
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

namespace CSen
{

//******************************************************************************
//******************************************************************************
//******************************************************************************

class Share
{
public:
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Constants:

   const static int cMaxStringSize = 64;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members:

   // Timer isr counter.
   int mTimerCount;
   
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Infrastructure:

   // Constructor.
   Share();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods:

   // Update the state. This is called by the temperature timer isr. 
   void onTimer();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods:

   // Return the state as a string. This is not thread safe.
   char* getStateString();   
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Global instance

#ifdef _CSENSHARE_CPP_
          Share gShare;
#else
   extern Share gShare;
#endif

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace

