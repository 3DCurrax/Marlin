#pragma once
/*==============================================================================
This file contains a set of classes that encapsulate a message set.

There is a class for each particular message in the set and there is a
base class that all of the messages inherit from.

These messages follow the ByteContent pattern, where they all inherit
from ByteContent so that they can be copied to/from ByteBuffers.

The base class is used to specify set membership, any inheriting class
is a member of the message set, and message objects can be referenced
anonymously via pointers to the the base class.

The base class provides a member function, makeFromByteBuffer, that
extracts particular messages from a byte buffer and returns a pointer
to the base class.

These messages all have the same common form, they all contain a
common message header. The base class has a Header member object that
encapsulates the header.
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************
#include "risByteContent.h"
#include "risByteMsgMonkey.h"
#include "fcomMsgBase.h"

namespace FCom
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
// Message Types.

static const int cUnspecifiedMsg   = 0;
static const int cTestMsg          = 1;
static const int cSampleMsg        = 2;
static const int cSettingsMsg      = 3;
static const int cStatusMsg        = 4;
static const int cEchoRequestMsg   = 5;
static const int cEchoResponseMsg  = 6;
static const int cPrintMsg         = 7;

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Particular message classes.
// There is one class for each message in the message set.

class TestMsg : public BaseMsg
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   int mCode1;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   TestMsg();
   void copyToFrom(Ris::ByteBuffer* aBuffer);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************

class SampleMsg : public BaseMsg
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   int mTimerCount;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   SampleMsg();
   void copyToFrom(Ris::ByteBuffer* aBuffer);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************

class StatusMsg : public BaseMsg
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   int mCode1;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   StatusMsg();
   void copyToFrom(Ris::ByteBuffer* aBuffer);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************

class SettingsMsg : public BaseMsg
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   bool mEnable;
   int  mTimerModulo;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   SettingsMsg();
   void copyToFrom(Ris::ByteBuffer* aBuffer);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************

class EchoRequestMsg : public BaseMsg
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   int    mCode1;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   EchoRequestMsg();
   void copyToFrom (Ris::ByteBuffer* aBuffer);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************

class EchoResponseMsg : public BaseMsg
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   int   mCode1;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   EchoResponseMsg();
   void copyToFrom(Ris::ByteBuffer* aBuffer);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************

class PrintMsg : public BaseMsg
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   static const int cMaxSize = 100;
   char mString[cMaxSize];

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   PrintMsg();
   void copyToFrom(Ris::ByteBuffer* aBuffer);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
// Message creation functions.

// Create a new message, based on a message type.
void* createMsg(int aMessageType);

// Destroy a message.
void destroyMsg(void* aMsg);

// Create a new message from the block pool, based on a message type.
void* createMsgFromBlockPool(int aMessageType);

// Destroy a message from the block pool.
void destroyMsgFromBlockPool(void* aMsg);

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace

